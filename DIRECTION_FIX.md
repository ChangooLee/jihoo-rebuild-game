# 🎯 개발 방향 재정렬 (2025-11-03)

## ❌ 오해한 부분

외부 검증자의 "데모 라우트" 요구사항을 **잘못 해석**했습니다.

### 문제:
- `/play?demo=1` 같은 **별도 데모 모드**를 만들려고 함
- 진단 테스트를 **별도 기능**으로 분리하려고 함
- **로컬 데이터 저장** 원칙을 무시함

---

## ✅ 올바른 개발 방향

### 핵심 원칙 (다시 확인)
1. **로그인 없이 시작** → IndexedDB에 바로 저장
2. **즉시 플레이 가능** → 클릭 3번 이내 진입
3. **데이터는 로컬 우선** → 서버 동기화는 옵션
4. **PWA로 오프라인 동작**

### 실제 사용자 플로우
```
랜딩 페이지
  ↓ [오늘 퀘스트 시작] (Enter)
세션 시작
  ↓ (자동으로 학년군 추정 시작)
워밍업 (Stroop)
  ↓
라운드 A (수학)
  ↓ (IndexedDB에 실시간 저장)
휴식 (50초)
  ↓
라운드 B (영어)
  ↓
휴식 (50초)
  ↓
라운드 C (과학/사회)
  ↓
리콜 보스 (오답 복습)
  ↓ (FSRS 상태 업데이트)
결과 화면
  ↓
대시보드 (누적 데이터 표시)
```

### 진단 테스트?
→ **별도 기능 아님!**
→ **첫 3-5세션 동안** 자동으로 학년군 추정
→ 사용자는 그냥 플레이만 하면 됨

### 데모?
→ **별도 모드 아님!**
→ **실제 플레이가 곧 데모**
→ 첫 세션이 자연스럽게 체험판 역할

---

## 🔧 실제 필요한 작업

### 1. 실제 플레이 흐름 완성 (우선순위 1)
```
apps/web/app/session/page.tsx
  ├─ 워밍업 (Stroop) ✅ 구현됨
  ├─ 라운드 A/B/C ✅ 게임 파일 존재
  ├─ 휴식 (BoxBreathing) ✅ 구현됨
  ├─ 리콜 보스 ⚠️ 통합 필요
  └─ 결과 (SessionResult) ✅ 컴포넌트 존재
```

**해야 할 일**:
- [ ] session/page.tsx에서 전체 흐름 연결
- [ ] 각 단계마다 IndexedDB 저장
- [ ] FSRS 상태 실시간 업데이트

### 2. 로컬 데이터 가시화 (우선순위 2)
```
apps/web/app/dashboard/page.tsx
  ├─ 오늘 할 일 (로컬 데이터 읽기)
  ├─ 누적 통계 (IndexedDB 집계)
  ├─ 약점 태그 (FSRS 분석)
  └─ 학년군 추정 진행도
```

### 3. 콘텐츠 실제 로딩 (우선순위 3)
```
apps/web/modules/content/loader.ts
  ├─ content/index.json 읽기
  ├─ 학년군별 필터링
  ├─ 난이도 적응 (1-up-1-down)
  └─ FSRS Due 우선 출제
```

---

## 🎯 외부 검증자가 실제로 원한 것

### "작동 증거"의 진짜 의미:
1. **랜딩에서 클릭 한 번**으로 실제 플레이 진입 ✅
2. **플레이 화면이 제대로 렌더링**됨 (HUD, 문제, 선택지) ⚠️
3. **정답/오답 피드백** 즉시 표시 ⚠️
4. **휴식 화면 자동 전환** ✅
5. **결과 화면에 통계** 표시 (로컬 데이터 기반) ⚠️
6. **대시보드에 누적 데이터** 표시 ⚠️

### 데모가 아니라 **실제 동작**을 보여주라는 것!

---

## 📋 수정된 작업 계획

### Phase 1: 실제 플레이 완성 (1주)
- [ ] session/page.tsx 전체 흐름 통합
- [ ] 콘텐츠 로더 연결 (content/index.json)
- [ ] IndexedDB 실시간 저장
- [ ] FSRS 상태 업데이트
- [ ] 결과 화면에 실제 데이터 표시

### Phase 2: 데이터 가시화 (1주)
- [ ] 대시보드 실제 데이터 연결
- [ ] 리포트 페이지 누적 통계
- [ ] 약점 태그 분석
- [ ] 학년군 추정 표시

### Phase 3: 접근성 증거 (3일)
- [ ] Lighthouse 리포트
- [ ] WCAG 체크리스트
- [ ] 키보드 내비게이션 검증

### Phase 4: E2E 테스트 (3일)
- [ ] 랜딩 → 플레이 → 결과
- [ ] 데이터 저장 검증
- [ ] FSRS 동작 검증

---

## 🗑️ 삭제할 것들

- ❌ `/play?demo=1` 라우트 (불필요)
- ❌ 별도 데모 컴포넌트 (DemoPlaySession)
- ❌ 별도 진단 테스트 페이지 (자동 추정으로 대체)
- ❌ 데모용 더미 데이터 (실제 콘텐츠 사용)

---

## ✅ 즉시 조치 사항

1. **FSRS 빌드 에러 수정** (현재 블로킹)
2. **불필요한 데모 파일 삭제**
3. **session/page.tsx 실제 흐름 구현**
4. **콘텐츠 로더 통합**
5. **IndexedDB 저장 검증**

---

**결론**: 
"데모"를 만들 게 아니라, **실제 제품이 처음부터 완벽하게 동작**하도록 만들어야 합니다.
로컬 데이터 저장 → 실시간 통계 → 누적 분석이 자연스럽게 흐르는 **진짜 플레이 경험**이 곧 최고의 증거입니다.

